(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{XhQh:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{constructor(l,n,e,u){this.titleService=l,this.meta=n,this.messageService=e,this.pusherService=u,this.title="Messages",this.titleService.setTitle(this.title),this.userId=localStorage.getItem("user_Id"),this.userRole=localStorage.getItem("user_type")}ngOnInit(){this.getAllChats()}getAllChats(){this.messageService.getAllMessages(this.userId).subscribe(l=>{this.getAll=l,this.getAllMessages=this.getAll.messages})}getSpecificChat(l){this.messageService.getSpecificMessage(l._id,this.userId).subscribe(l=>{this.getSpecific=l,this.getSpecificMessages=this.getSpecific.allMessages})}sendMessage(l){const n={};n.userId=this.userId,n.propertyId=this.property,n.userType=this.userRole,n.message=l.message,this.messageService.postMessages(n).subscribe(l=>{})}}class s{}var a=e("pMnS"),i=e("SVse"),o=e("s7LF"),r=e("cUpR"),c=e("cxbk"),g=e("IheW");let d=(()=>{class l{constructor(l){this.http=l}postMessages(l){return this.http.post(`${c.a.apiBase}/create/message`,l).do(l=>{})}getAllMessages(l){return this.http.get(`${c.a.apiBase}/get/allMessages/`+l).do(l=>{})}getSpecificMessage(l,n){return this.http.get(`${c.a.apiBase}/get/chat/`+l+"/"+n).do(l=>{})}getViewMessage(l){return this.http.get(`${c.a.apiBase}/searchForContactedUser/`+l).do(l=>{})}}return l.ngInjectableDef=u.Xb({factory:function(){return new l(u.Yb(g.c))},token:l,providedIn:"root"}),l})();var p=e("Na5r"),b=u.wb({encapsulation:0,styles:[['.img-sidebar[_ngcontent-%COMP%]{width:100%;border-radius:50%;margin-top:10px}.img-message[_ngcontent-%COMP%]{width:80%;border-radius:50%;margin-top:10px}.header-sidebar[_ngcontent-%COMP%]{padding:15px 10px 11px;background-color:#fff}.container-fluid[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px}.focusout-background[_ngcontent-%COMP%]{background-color:#f7f7f7}.contact-list[_ngcontent-%COMP%]{padding:5px 10px 8px;background:#e5f8e6;border:1px solid #ececec}.contact-list-white[_ngcontent-%COMP%]{padding:5px 10px 8px;background:#fff;border:1px solid #ececec}.candidate-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-left:-6px;margin-top:3px;margin-bottom:0}.candidate-receive-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-top:3px;margin-bottom:0}.message-view-sidebar[_ngcontent-%COMP%]{font-size:12px;color:#929292;margin-left:-6px}.text-hour[_ngcontent-%COMP%]{font-size:10px;color:#999;margin-left:3px;font-weight:700;font:10px/24px ProximaNova,"Helvetica Neue",Helvetica,Arial,sans-serif}.message-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #faaa5d;color:#faaa5d;border-radius:0;float:right;margin-top:10px;font-size:13px}.message-btn[_ngcontent-%COMP%]:hover{background:#faaa5d;color:#fff}.message-view-text[_ngcontent-%COMP%]{font-size:13px;color:#615d5d}.sidebar-wid[_ngcontent-%COMP%]{height:540px;background-color:#fff;border:1px solid #ececec;overflow-y:auto}.message-row[_ngcontent-%COMP%]{padding:10px;background:#fff;position:relative;right:0;left:0;top:0;border:1px solid #ececec}.message-send-custom[_ngcontent-%COMP%]{border:none;margin-top:5px;font:15px/24px ProximaNova,"Helvetica Neue",Helvetica,Arial,sans-serif}.message-display-body[_ngcontent-%COMP%]{height:487px;overflow-y:auto;background:#fff;padding:10px;border:1px solid #ececec}.text-profile-name[_ngcontent-%COMP%]{background:#fff;border:1px solid #ececec;padding:10px 4px 7px 11px}.text-top-profileName[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin-bottom:0}.search-messages[_ngcontent-%COMP%]{background:#ececec;border-radius:0;border:none;font:15px/24px ProximaNova,"Helvetica Neue",Helvetica,Arial,sans-serif}.font-icon-custom[_ngcontent-%COMP%]{font-size:20px;margin-top:16px;padding-left:50px}']],data:{}});function m(l){return u.Ub(0,[(l()(),u.yb(0,0,null,null,12,"div",[["class","contact-list"]],null,null,null,null,null)),(l()(),u.yb(1,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.yb(2,0,null,null,1,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u.yb(3,0,null,null,0,"img",[["alt",""],["class","img-sidebar"],["src","https://fiverr-res.cloudinary.com/t_profile_original,q_auto,f_auto/profile/photos/65637780/original/photo.jpg"]],null,null,null,null,null)),(l()(),u.yb(4,0,null,null,8,"div",[["class","col-md-9"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getSpecificChat(l.context.$implicit)&&u),u}),null,null)),(l()(),u.yb(5,0,null,null,4,"p",[["class","candidate-name"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Candidate 1 "])),(l()(),u.yb(7,0,null,null,2,"span",[["class","text-hour"]],null,null,null,null,null)),(l()(),u.Sb(8,null,["",""])),u.Ob(9,1),(l()(),u.yb(10,0,null,null,2,"span",[["class","message-view-sidebar"]],null,null,null,null,null)),(l()(),u.Sb(11,null,["Me: ",".."])),u.Mb(0,i.q,[])],null,(function(l,n){var e=u.Tb(n,8,0,l(n,9,0,u.Kb(n.parent,0),n.context.$implicit.created_at));l(n,8,0,e),l(n,11,0,u.Tb(n,11,0,u.Kb(n,12).transform(n.context.$implicit.message,0,22)))}))}function f(l){return u.Ub(0,[(l()(),u.yb(0,0,null,null,9,"div",[["class","row mb-4"]],null,null,null,null,null)),(l()(),u.yb(1,0,null,null,1,"div",[["class","col-md-1"]],null,null,null,null,null)),(l()(),u.yb(2,0,null,null,0,"img",[["alt",""],["class","img-message"],["src","https://fiverr-res.cloudinary.com/t_profile_original,q_auto,f_auto/profile/photos/65637780/original/photo.jpg"]],null,null,null,null,null)),(l()(),u.yb(3,0,null,null,6,"div",[["class","col-md-11"],["style","margin-left: -15px;"]],null,null,null,null,null)),(l()(),u.yb(4,0,null,null,3,"p",[["class","candidate-receive-name"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Candidate 1 "])),(l()(),u.yb(6,0,null,null,1,"span",[["class","text-hour"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["8 Nov, 9:36 pm"])),(l()(),u.yb(8,0,null,null,1,"span",[["class","message-view-text"]],null,null,null,null,null)),(l()(),u.Sb(9,null,[" "," "]))],null,(function(l,n){l(n,9,0,n.context.$implicit.message)}))}function h(l){return u.Ub(0,[u.Mb(0,i.d,[u.x]),(l()(),u.yb(1,0,null,null,34,"div",[["class","comparison content-area focusout-background"]],null,null,null,null,null)),(l()(),u.yb(2,0,null,null,33,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),u.yb(3,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.yb(4,0,null,null,5,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u.yb(5,0,null,null,1,"div",[["class","header-sidebar"]],null,null,null,null,null)),(l()(),u.yb(6,0,null,null,0,"input",[["class","form-control search-messages"],["placeholder","Search Messages"],["type","text"]],null,null,null,null,null)),(l()(),u.yb(7,0,null,null,2,"div",[["class","sidebar-wid"]],null,null,null,null,null)),(l()(),u.ob(16777216,null,null,1,null,m)),u.xb(9,278528,null,0,i.k,[u.U,u.R,u.v],{ngForOf:[0,"ngForOf"]},null),(l()(),u.yb(10,0,null,null,25,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),u.yb(11,0,null,null,3,"div",[["class","row text-profile-name"]],null,null,null,null,null)),(l()(),u.yb(12,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),u.yb(13,0,null,null,1,"p",[["class","text-top-profileName"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Candidate 1"])),(l()(),u.yb(15,0,null,null,3,"div",[["class","row message-display-body"]],null,null,null,null,null)),(l()(),u.yb(16,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),u.ob(16777216,null,null,1,null,f)),u.xb(18,278528,null,0,i.k,[u.U,u.R,u.v],{ngForOf:[0,"ngForOf"]},null),(l()(),u.yb(19,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0,s=l.component;return"submit"===n&&(t=!1!==u.Kb(l,21).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Kb(l,21).onReset()&&t),"ngSubmit"===n&&(t=!1!==s.sendMessage(u.Kb(l,21).value)&&t),t}),null,null)),u.xb(20,16384,null,0,o.A,[],null,null),u.xb(21,4210688,[["f",4]],0,o.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),u.Pb(2048,null,o.d,null,[o.p]),u.xb(23,16384,null,0,o.o,[[4,o.d]],null,null),(l()(),u.yb(24,0,null,null,11,"div",[["class","row message-row"]],null,null,null,null,null)),(l()(),u.yb(25,0,null,null,6,"div",[["class","col-md-9"]],null,null,null,null,null)),(l()(),u.yb(26,0,null,null,5,"input",[["class","form-control message-send-custom"],["name","message"],["ngModel",""],["placeholder","Write a message or attach file..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0;return"input"===n&&(t=!1!==u.Kb(l,27)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.Kb(l,27).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.Kb(l,27)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.Kb(l,27)._compositionEnd(e.target.value)&&t),t}),null,null)),u.xb(27,16384,null,0,o.e,[u.J,u.n,[2,o.a]],null,null),u.Pb(1024,null,o.l,(function(l){return[l]}),[o.e]),u.xb(29,671744,[["message",4]],0,o.q,[[2,o.d],[8,null],[8,null],[6,o.l]],{name:[0,"name"],model:[1,"model"]},null),u.Pb(2048,null,o.m,null,[o.q]),u.xb(31,16384,null,0,o.n,[[4,o.m]],null,null),(l()(),u.yb(32,0,null,null,3,"div",[["class","col-md-3"]],null,null,null,null,null)),(l()(),u.yb(33,0,null,null,0,"i",[["class","fa fa-paperclip font-icon-custom"]],null,null,null,null,null)),(l()(),u.yb(34,0,null,null,1,"button",[["class","btn btn-primary message-btn"],["type","submit"]],null,null,null,null,null)),(l()(),u.Sb(-1,null,["Send Message"]))],(function(l,n){var e=n.component;l(n,9,0,e.getAllMessages),l(n,18,0,e.getSpecificMessages),l(n,29,0,"message","")}),(function(l,n){l(n,19,0,u.Kb(n,23).ngClassUntouched,u.Kb(n,23).ngClassTouched,u.Kb(n,23).ngClassPristine,u.Kb(n,23).ngClassDirty,u.Kb(n,23).ngClassValid,u.Kb(n,23).ngClassInvalid,u.Kb(n,23).ngClassPending),l(n,26,0,u.Kb(n,31).ngClassUntouched,u.Kb(n,31).ngClassTouched,u.Kb(n,31).ngClassPristine,u.Kb(n,31).ngClassDirty,u.Kb(n,31).ngClassValid,u.Kb(n,31).ngClassInvalid,u.Kb(n,31).ngClassPending)}))}function x(l){return u.Ub(0,[(l()(),u.yb(0,0,null,null,1,"app-messages",[],null,null,null,h,b)),u.xb(1,114688,null,0,t,[r.i,r.h,d,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var v=u.ub("app-messages",t,x,{},{},[]),y=e("iInd");e.d(n,"MessagesModuleNgFactory",(function(){return M}));var M=u.vb(s,[],(function(l){return u.Hb([u.Ib(512,u.l,u.hb,[[8,[a.a,v]],[3,u.l],u.A]),u.Ib(4608,i.n,i.m,[u.x,[2,i.x]]),u.Ib(4608,o.y,o.y,[]),u.Ib(1073742336,i.b,i.b,[]),u.Ib(1073742336,o.x,o.x,[]),u.Ib(1073742336,o.h,o.h,[]),u.Ib(1073742336,y.s,y.s,[[2,y.x],[2,y.o]]),u.Ib(1073742336,s,s,[]),u.Ib(1024,y.m,(function(){return[[{path:"",component:t}]]}),[])])}))},cxbk:function(l,n,e){"use strict";e.d(n,"a",(function(){return u}));const u={production:!0,apiBase:"https://swiftlire-backend.herokuapp.com"}}}]);